(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function u(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();class _{_a=null;_b=null;_operator=null;_result=null;isHaveResult(){return Number.isFinite(this._result)}getResult(){return console.log(this._a),console.log(this._b),console.log(this._operator),this._result}pushOperand(t){this._a===null?this._a=t:this._b=t}pushOperandEquals(t){this._a===null?this._a=t:this._b===null&&(this._b=t)}pushAndEquals(t){this.pushOperandEquals(t),this._canCalculate()&&(this._calculate(),this._rememberA(this._result))}pushAndMultiply(t){this.pushOperand(t),this._applyOperator("*")}pushAndDevide(t){this.pushOperand(t),this._applyOperator("/")}pushAndSubtract(t){this.pushOperand(t),this._applyOperator("-")}pushAndAdd(t){this.pushOperand(t),this._applyOperator("+")}_applyOperator(t){this._canCalculate()&&(this._calculate(),this._rememberA(this._result)),this._operator=t}_rememberA(t){this._a=t}_canCalculate(){return this._a!==null&&this._b!==null&&this._operator!==null}_calculate(){if(this._a===null)throw new Error("No first operand");if(this._b===null)throw new Error("No second operand");if(this._operator===null)throw new Error("No operator");switch(this._operator){case"+":this._result=this._a+this._b;break;case"-":this._result=this._a-this._b;break;case"*":this._result=this._a*this._b;break;case"/":this._result=this._a/this._b;break}}_reset(){this._a=null,this._b=null,this._operator=null}}class p{#t={};on(t,r){this.#t[t]||(this.#t[t]=[]),this.#t[t].push(r)}off(t,r){this.#t[t]&&(this.#t[t]=this.#t[t].filter(u=>u!==r))}emit(t,r){if(this.#t[t])for(const u of this.#t[t])u(r)}}const a=new p;class d{_input="0";constructor(){this._calculator=new _,this._changeDisplay()}clickZero(){this._clickNumber("0")}clickOne(){this._clickNumber("1")}clickTwo(){this._clickNumber("2")}clickThree(){this._clickNumber("3")}clickFour(){this._clickNumber("4")}clickFive(){this._clickNumber("5")}clickSix(){this._clickNumber("6")}clickSeven(){this._clickNumber("7")}clickEight(){this._clickNumber("8")}clickNine(){this._clickNumber("9")}clickDevide(){this._calculator.pushAndDevide(+this._input),this._tryGetResultAndReset()}clickMultiply(){this._calculator.pushAndMultiply(+this._input),this._tryGetResultAndReset()}clickSubtract(){this._calculator.pushAndSubtract(+this._input),this._tryGetResultAndReset()}clickAdd(){this._calculator.pushAndAdd(+this._input),this._tryGetResultAndReset()}clickEquals(){this._calculator.pushAndEquals(+this._input),this._tryGetResultAndReset()}clickClear(){this._resetInput(),this._changeDisplay()}clickClearAll(){this._resetInput(),this._changeDisplay()}clickPercent(){}clickComma(){}clickSign(){this._input[0]==="-"?this._input=this._input.slice(1):this._input="-"+this._input,this._changeDisplay()}_tryGetResult(){this._calculator.isHaveResult()&&(this._input=""+this._calculator.getResult(),this._changeDisplay())}_resetInput(){this._input="0"}_tryGetResultAndReset(){this._tryGetResult(),this._resetInput()}_clickOperation(){this._calculator.pushOperand(+this._input),this._number="0"}_eraseLeadingZero(){this._input==="0"&&(this._input="")}_clickNumber(t){this._eraseLeadingZero(),this._input+=t,this._changeDisplay()}_changeDisplay(){a.emit("changeDisplay",this._input)}}a.on("changeDisplay",l=>{document.querySelector("#display-text").innerText=l});const e=new d,o=document.querySelectorAll("button");o.forEach(l=>{l.addEventListener("click",()=>{b()})});const i=(l,t)=>{document.querySelector(`#${l}`).addEventListener("click",t)},n=l=>{document.querySelector(`#${l}`).classList.add("highlight")},b=l=>{o.forEach(t=>{t.classList.remove("highlight")})};i("divide",()=>n("divide"));i("multiply",()=>n("multiply"));i("subtract",()=>n("subtract"));i("add",()=>n("add"));i("button-0",()=>e.clickZero());i("button-1",()=>e.clickOne());i("button-2",()=>e.clickTwo());i("button-3",()=>e.clickThree());i("button-4",()=>e.clickFour());i("button-5",()=>e.clickFive());i("button-6",()=>e.clickSix());i("button-7",()=>e.clickSeven());i("button-8",()=>e.clickEight());i("button-9",()=>e.clickNine());i("divide",()=>e.clickDevide());i("multiply",()=>e.clickMultiply());i("subtract",()=>e.clickSubtract());i("add",()=>e.clickAdd());i("equals",()=>e.clickEquals());i("clear",()=>e.clickClearAll());i("sign",()=>e.clickSign());i("percent",()=>e.clickPercent());i(",",()=>e.clickComma());
